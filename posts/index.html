<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | weearc 的个人博客</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - weearc 的个人博客">
<meta name="author" content="weearc">
<link rel="canonical" href="https://blog.weearc.top/posts/">
<meta name="google-site-verification" content="alQM1UuXbvXlVZiBJFDOVusGSakBpQYyv7f5x2tBGiw">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3c2040296aae8b5eb23e89af25f860a0e4acc3932d25385dad48cdfae63e7c43.css" integrity="sha256-PCBAKWqui16yPomvJfhgoOSsw5MtJThdrUjN&#43;uY&#43;fEM=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.weearc.top/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.weearc.top/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.weearc.top/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.weearc.top/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.weearc.top/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://blog.weearc.top/posts/index.xml">

<canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas>
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
<script type="text/javascript" src="/js/fireworks.js"></script>


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Posts" />
<meta property="og:description" content="想离相惜莫相忘，且行且歌且珍惜" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://blog.weearc.top/posts/" /><meta property="og:image" content="https://blog.weearc.top/papermod-cover.png"/>

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://blog.weearc.top/papermod-cover.png"/>

<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="想离相惜莫相忘，且行且歌且珍惜"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://blog.weearc.top/posts/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">

<header class="header" id="navBar">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.weearc.top" accesskey="h" title="weearc 的个人博客 (Alt + H)">weearc 的个人博客</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.weearc.top/" title="首页">
                    <span>首页</span>
                </a>
            </li>
            <li>
                <a href="https://blog.weearc.top/archives" title="归档">
                    <span>归档</span>
                </a>
            </li>
            <li>
                <a href="https://blog.weearc.top/search/" title="检索">
                    <span>检索</span>
                </a>
            </li>
            <li>
                <a href="https://blog.weearc.top/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://blog.weearc.top/about/" title="关于我">
                    <span>关于我</span>
                </a>
            </li>
            <li>
                <a href="https://blog.weearc.top/frlink/" title="友链">
                    <span>友链</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main beforeScrollMaster" id="list-layout">
        <div id="content-list"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://blog.weearc.top">主页</a></div>
  <h1>
    Posts
    <a href="/posts/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>记一次失败的从 Arch Linux 迁移到 Debian Sid 的经历
    </h2>
  </header>
  <div class="entry-content">
    <p>其实我从来没想好自己应该使用什么发行版，十多年前最开始使用 Arch Linux 也只是因为觉得大家都在使用 什么 Ubuntu 啊觉得自己可以特例独行一些，并没有深刻的体会到什么叫做 KISS，也没有体会到各种拆包粒度对于使用的影响，也一直只是“会用”而已，并没有太多作为用户之外的使用体验差距。就算是第二个使用的发行版是 openSUSE 也一样，因为某种程度上有类似的基因。
起因 闲的蛋痛。年初企图迁移到 Fedora 失败，仅仅过了5个小时就滚回了 Arch 。可能考虑到了 Debian Sid 的如下特性，打算这次外迁一定要迁移出去，去 Debian。
足够稳定 apt 的前端 nala，看上去很帅 周围用 Arch 的很多，向特立独行一点 复习时间之余闲的蛋痛 但是也考虑到一些区别，比如：
包管理器的整合性：debian 系素以混乱的包管理功能著称，dpkg、apt、apt-get、apt-file 软件包获取的难度：这也是为什么我一直非常抗拒使用 deb 系，你可以在软件官网上（比如 zotero），在 github release，在 makedeb ，在 pacstall，在 ppa…你能找出一百个不同的软件包来源，但是你没办法把他们整合（Debian CN repo 许久未变更了） 不知道的一些奇奇怪怪的特性 wiki，debian wiki 也就将将是能参考的程度 以上这些问题并没罗列全面，但是我曾经认为自己能够克服这些问题。虽然显然还是太高看自己了。
Arch Linux -&gt; Debian 安装一个新的发行版是容易的，也没什么好说。但是考虑到年初 fedora 的惨痛经历，我打算还是给自己留个后路，方法可以有很多，rsync、或者整体dd、或者打个 tarball 什么的，之前有过尝试用 squashfs 备份系统的经验，而且打包后镜像体积特别小，也是很多发行版安装 CD 的首选方案。那就决定了。
首先备份根分区，需要排除掉所有额外挂载的分区和运行态的玩意儿：
1 sudo mksquashfs / backup-archlinux.squashfs -e /home -e /run -e /proc -e /dev -e /sys -e /tmp -e /var/tmp -e /mnt /boot/efi 直接把镜像扔到了外挂的 SSD 上面，体积也不大，150 G 根分区体积也就 27 G。然后下载了 Debian stable bookworm 的镜像，写盘，分区，安装…不一而足。...</p>
  </div>
  <footer class="entry-footer"><span title='2023-09-25 00:00:00 +0000 UTC'>九月 25, 2023</span>&nbsp;·&nbsp;6 分钟&nbsp;·&nbsp;weearc</footer>
  <a class="entry-link" aria-label="post link to 记一次失败的从 Arch Linux 迁移到 Debian Sid 的经历" href="https://blog.weearc.top/posts/2866972811/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>记从 HEXO 迁移到 Hugo 安家之旅
    </h2>
  </header>
  <div class="entry-content">
    <p>过了生命周期的 nodejs 的玩具，那是真的蛋痛
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-05-08 00:00:00 +0000 UTC'>五月 8, 2023</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;weearc</footer>
  <a class="entry-link" aria-label="post link to 记从 HEXO 迁移到 Hugo 安家之旅" href="https://blog.weearc.top/posts/2817549702/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>在Archlinux上启用外接设备唤醒
    </h2>
  </header>
  <div class="entry-content">
    <p>我的新伙伴，HP 暗影精灵7，因为N卡毕竟太好用了，而且可以支持独显直出，在外接屏幕了以后拿来当作“台式机”了。
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-05-07 00:00:00 +0000 UTC'>五月 7, 2023</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;weearc</footer>
  <a class="entry-link" aria-label="post link to 在Archlinux上启用外接设备唤醒" href="https://blog.weearc.top/posts/4169015263/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>openwrt 随机 mac --- ip 地址重新分配
    </h2>
  </header>
  <div class="entry-content">
    <p>通常来讲是没有更换 MAC 的必要，但是偶尔被误伤的时候还是很有用的。
起因 手里多了一台服务器，目前部署在 IDC 中心，由于忘记某个服务的端口我遍采取了端口扫描的方式来查看暴露的端口进而判断服务位置，但是我校 IDS 系统比较厉害，不仅仅是没有扫到服务顺带着连我的 IP 到服务器的访问也一并切断了，因此我需要更换 IP 才能重新正常访问该服务器。但是由于一般使用硬件 MAC 因此对于 DHCP 服务器不会为我重新分配新的 IP 地址直到我上一个 IP 过期释放掉。然而释放的这个过程最长可达一年（我上一年度内网 IP 均未发生变更）。因此只能通过更换 MAC 使得 DHCP 服务器认为我是新的接入设备并重新分配可用 IP。
思路 一般来讲我可能会选用 Python 来实现更换 MAC 这个操作，但是受限于路由器本身，使用 Shell 脚本可能是更加经济实惠的选择。
初步思路是从 /dev/urandom 抓取随机数，取 md5sum 获取 16 进制格式然后再切分插入符号。类似如下形式：
1 echo `dd if=/dev/urandom bs=1 count=32 2&gt;/dev/null | md5sum | cut -b 1-12 | sed &#39;s/\(..\)/\1:/g; s/.$//&#39;` 1 2 # result &#39;21:29:25:69:ec:ad&#39; 但是正如这条 stackoverflow 的讨论串所描述的那样，这样生成的 MAC 地址有概率无法使用，即最直观的感受是要求前两位地址必须为偶数。说白了，由于单播地址限制，首位地址为0x21时相当于映射到多播，但是由于单个硬件设备作为节点连接到网络时其使用单播方法，因此必须限制首位为偶数。即：...</p>
  </div>
  <footer class="entry-footer"><span title='2021-10-14 10:43:50 +0000 UTC'>十月 14, 2021</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;weearc</footer>
  <a class="entry-link" aria-label="post link to openwrt 随机 mac --- ip 地址重新分配" href="https://blog.weearc.top/posts/10719/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>通过 GITHUB Actions 部署博客---腾讯云 Cloudbase 踩坑2
    </h2>
  </header>
  <div class="entry-content">
    <p></p>
  </div>
  <footer class="entry-footer"><span title='2021-09-11 00:23:15 +0000 UTC'>九月 11, 2021</span>&nbsp;·&nbsp;0 分钟&nbsp;·&nbsp;weearc</footer>
  <a class="entry-link" aria-label="post link to 通过 GITHUB Actions 部署博客---腾讯云 Cloudbase 踩坑2" href="https://blog.weearc.top/posts/11375/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://blog.weearc.top/posts/page/2/">下一页&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
        </div>
    </main>
    
<footer class="footer">
    <span>Copyright &copy; 2023 | <a href="https://blog.weearc.top">weearc 的个人博客</a></span></br>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> & theme based on
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span></br>
    <span>
        <a href="http://beian.miit.gov.cn/" rel="noopener" target="_blank" style="border:none;">
            辽ICP备2020011073号
        </a>
    </span>
    </br>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_pv"> 本站总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span>
    <span id="busuanzi_container_site_uv"> 本站访客数 <span id="busuanzi_value_site_uv"></span> 人次 </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>
<script type="text/javascript" src="/js/custom.js"></script>
</html>
